Name: share.rpc
ListenOn: 0.0.0.0:2003
Mode: dev

# Etcd (生产环境启用):
# Etcd:
#   Hosts:
#   - etcd:2379
#   Key: share.rpc

# 数据库配置
# 本地开发: 127.0.0.1:33069 | Docker 容器内: mysql:3306
DB:
  DataSource: root:root@tcp(127.0.0.1:33069)/polaris_share?charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai

# Redis 配置
# 本地开发: 127.0.0.1:36379 | Docker 容器内: redis:6379
Redis:
  Host: 127.0.0.1:36379
  Type: node
  Pass: polaris
  Key: share-rpc

# 缓存配置 (sqlc 缓存)
Cache:
  - Host: 127.0.0.1:36379
    Pass: polaris

# File RPC 客户端配置（获取文件信息、下载链接、复制文件）
# 本地开发: 127.0.0.1:2002 | Docker 容器内: file-rpc:2002
FileRpcConf:
  Endpoints:
    - 127.0.0.1:2002
  NonBlock: true
  Timeout: 10000

# Usercenter RPC 客户端配置（获取用户信息、验证配额）
# 本地开发: 127.0.0.1:2001 | Docker 容器内: usercenter-rpc:2001
UsercenterRpcConf:
  Endpoints:
    - 127.0.0.1:2001
  NonBlock: true
  Timeout: 5000

# Asynq 配置（异步任务队列）
# 本地开发: 127.0.0.1:36379 | Docker 容器内: redis:6379
Asynq:
  Addr: 127.0.0.1:36379
  Password: polaris

# 分享链接配置
Share:
  # 分享链接前缀（用于生成分享URL）
  BaseUrl: http://localhost:8081/share/v1/detail
  # 提取码长度
  CodeLength: 4

# 监控
Prometheus:
  Host: 0.0.0.0
  Port: 4006
  Path: /metrics

# 链路追踪
# 本地开发: 127.0.0.1:14268 | Docker 容器: jaeger:14268
Telemetry:
  Name: share-rpc
  Endpoint: http://127.0.0.1:14268/api/traces
  Sampler: 1.0
  Batcher: jaeger

# 日志
Log:
  ServiceName: share-rpc
  Level: info
