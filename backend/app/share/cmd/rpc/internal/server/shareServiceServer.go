// Code generated by goctl. DO NOT EDIT.
// goctl 1.9.2
// Source: share.proto

package server

import (
	"context"

	"polaris-io/backend/app/share/cmd/rpc/internal/logic"
	"polaris-io/backend/app/share/cmd/rpc/internal/svc"
	"polaris-io/backend/app/share/cmd/rpc/pb"
)

type ShareServiceServer struct {
	svcCtx *svc.ServiceContext
	pb.UnimplementedShareServiceServer
}

func NewShareServiceServer(svcCtx *svc.ServiceContext) *ShareServiceServer {
	return &ShareServiceServer{
		svcCtx: svcCtx,
	}
}

// -------- 分享管理 --------
func (s *ShareServiceServer) CreateShare(ctx context.Context, in *pb.CreateShareReq) (*pb.CreateShareResp, error) {
	l := logic.NewCreateShareLogic(ctx, s.svcCtx)
	return l.CreateShare(in)
}

// 获取分享列表
func (s *ShareServiceServer) GetShareList(ctx context.Context, in *pb.GetShareListReq) (*pb.GetShareListResp, error) {
	l := logic.NewGetShareListLogic(ctx, s.svcCtx)
	return l.GetShareList(in)
}

// 取消分享
func (s *ShareServiceServer) CancelShare(ctx context.Context, in *pb.CancelShareReq) (*pb.CancelShareResp, error) {
	l := logic.NewCancelShareLogic(ctx, s.svcCtx)
	return l.CancelShare(in)
}

// 更新分享
func (s *ShareServiceServer) UpdateShare(ctx context.Context, in *pb.UpdateShareReq) (*pb.UpdateShareResp, error) {
	l := logic.NewUpdateShareLogic(ctx, s.svcCtx)
	return l.UpdateShare(in)
}

// -------- 分享访问 --------
func (s *ShareServiceServer) GetShareDetail(ctx context.Context, in *pb.GetShareDetailReq) (*pb.GetShareDetailResp, error) {
	l := logic.NewGetShareDetailLogic(ctx, s.svcCtx)
	return l.GetShareDetail(in)
}

// 获取分享下载链接
func (s *ShareServiceServer) GetShareDownloadUrl(ctx context.Context, in *pb.GetShareDownloadUrlReq) (*pb.GetShareDownloadUrlResp, error) {
	l := logic.NewGetShareDownloadUrlLogic(ctx, s.svcCtx)
	return l.GetShareDownloadUrl(in)
}

// 保存分享到网盘
func (s *ShareServiceServer) SaveShare(ctx context.Context, in *pb.SaveShareReq) (*pb.SaveShareResp, error) {
	l := logic.NewSaveShareLogic(ctx, s.svcCtx)
	return l.SaveShare(in)
}

// -------- 内部方法 --------
func (s *ShareServiceServer) GetShareByIdentity(ctx context.Context, in *pb.GetShareByIdentityReq) (*pb.GetShareByIdentityResp, error) {
	l := logic.NewGetShareByIdentityLogic(ctx, s.svcCtx)
	return l.GetShareByIdentity(in)
}

// 增加点击次数
func (s *ShareServiceServer) IncrClickNum(ctx context.Context, in *pb.IncrClickNumReq) (*pb.IncrClickNumResp, error) {
	l := logic.NewIncrClickNumLogic(ctx, s.svcCtx)
	return l.IncrClickNum(in)
}

// 验证分享是否有效
func (s *ShareServiceServer) ValidateShare(ctx context.Context, in *pb.ValidateShareReq) (*pb.ValidateShareResp, error) {
	l := logic.NewValidateShareLogic(ctx, s.svcCtx)
	return l.ValidateShare(in)
}
